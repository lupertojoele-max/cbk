(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{1812:(e,s,t)=>{"use strict";t.d(s,{ResultsHeader:()=>d});var a=t(5155),i=t(1733),r=t(3998),n=t(1647),c=t(6613),l=t(534);function d(){return(0,a.jsxs)("section",{className:"relative bg-gradient-to-br from-racing-gray-900 via-racing-gray-800 to-racing-red/20 text-white py-16",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('/images/grid-pattern.png')] opacity-10"}),(0,a.jsx)("div",{className:"relative container mx-auto px-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,a.jsx)(n.E,{className:"bg-racing-red/90 text-white text-sm px-4 py-2 font-semibold mb-6",children:"Championship Results 2024"})}),(0,a.jsx)(i.P.h1,{className:"text-4xl md:text-6xl font-bold mb-6 racing-text-shadow",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:"Results & Standings"}),(0,a.jsx)(i.P.p,{className:"text-xl md:text-2xl text-racing-gray-200 mb-8 max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Track championship standings, race results, and driver performance across multiple seasons. Export data and analyze statistics with our comprehensive results system."}),(0,a.jsxs)(i.P.div,{className:"flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,a.jsx)(r.$,{size:"lg",className:"bg-racing-red hover:bg-racing-red/90 text-white font-semibold px-8 py-4 h-14 text-lg group",asChild:!0,children:(0,a.jsxs)("a",{href:"#standings",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"View Standings"]})}),(0,a.jsx)(r.$,{size:"lg",variant:"outline",className:"border-2 border-white text-white hover:bg-white hover:text-racing-gray-900 font-semibold px-8 py-4 h-14 text-lg",asChild:!0,children:(0,a.jsxs)("a",{href:"#statistics",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 mr-2"}),"Season Stats"]})})]}),(0,a.jsxs)(i.P.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12 pt-8 border-t border-racing-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-racing-red",children:"8"}),(0,a.jsx)("div",{className:"text-sm text-racing-gray-300",children:"Races Completed"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-racing-red",children:"10"}),(0,a.jsx)("div",{className:"text-sm text-racing-gray-300",children:"Drivers"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-racing-red",children:"4"}),(0,a.jsx)("div",{className:"text-sm text-racing-gray-300",children:"Different Winners"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-racing-red",children:"15"}),(0,a.jsx)("div",{className:"text-sm text-racing-gray-300",children:"Points Gap"})]})]})]})})]})}},2035:(e,s,t)=>{"use strict";t.d(s,{ResultsView:()=>y});var a=t(5155),i=t(2115),r=t(4342),n=t(1733),c=t(3998),l=t(1647),d=t(6948),o=t(2108),x=t(4033),m=t(9867),g=t(6613),h=t(2472),p=t(6154),u=t(6485),j=t(5847);function y(){var e,s;let[t,y]=(0,i.useState)([]),[N,f]=(0,i.useState)(2024),[b,v]=(0,i.useState)(null),[w,_]=(0,i.useState)(!0),[C,P]=(0,i.useState)("position"),[k,R]=(0,i.useState)("asc");(0,i.useEffect)(()=>{!async function(){try{let e=await (0,j.LU)();y(e.data)}catch(e){console.error("Failed to fetch seasons:",e)}}()},[]),(0,i.useEffect)(()=>{!async function(){_(!0);try{let e=await (0,j.uU)({season_year:N});v(e.data)}catch(e){console.error("Failed to fetch season results:",e)}finally{_(!1)}}()},[N]);let S=(0,i.useMemo)(()=>(null==b?void 0:b.standings)?[...b.standings].sort((e,s)=>{let t,a;switch(C){case"position":t=e.position,a=s.position;break;case"total_points":t=e.total_points,a=s.total_points;break;case"wins":t=e.wins,a=s.wins;break;case"podiums":t=e.podiums,a=s.podiums;break;case"best_finish":t=e.best_finish,a=s.best_finish;break;default:return 0}return"asc"===k?t-a:a-t}):[],[null==b?void 0:b.standings,C,k]),E=e=>{C===e?R("asc"===k?"desc":"asc"):(P(e),R("position"===e||"best_finish"===e?"asc":"desc"))},Z=e=>C!==e?null:"asc"===k?(0,a.jsx)(o.A,{className:"w-4 h-4"}):(0,a.jsx)(x.A,{className:"w-4 h-4"}),A=e=>{switch(e){case 1:return"bg-yellow-100 text-yellow-800";case 2:return"bg-gray-100 text-gray-800";case 3:return"bg-amber-100 text-amber-800";default:return"bg-racing-gray-100 text-racing-gray-800"}};return w&&!b?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"space-y-8",id:"standings",children:[(0,a.jsx)(d.Zp,{children:(0,a.jsx)(d.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-racing-gray-900 mb-1",children:"Championship Season"}),(0,a.jsx)("p",{className:"text-racing-gray-600",children:"Select a season to view results and standings"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("select",{value:N,onChange:e=>f(Number(e.target.value)),className:"px-4 py-2 border border-racing-gray-300 rounded-lg bg-white text-racing-gray-900 focus:ring-2 focus:ring-racing-red focus:border-transparent",children:t.map(e=>(0,a.jsx)("option",{value:e.year,children:e.name},e.id))}),(0,a.jsxs)(c.$,{onClick:()=>{if(!(null==b?void 0:b.standings))return;let e=new Blob([["Position,Driver,Racing Number,Nationality,Points,Wins,Podiums,Best Finish,Races Completed",...S.map(e=>[e.position,'"'.concat(e.driver.full_name,'"'),e.driver.racing_number,'"'.concat(e.driver.nationality,'"'),e.total_points,e.wins,e.podiums,e.best_finish,e.races_completed].join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),t=URL.createObjectURL(e);s.setAttribute("href",t),s.setAttribute("download","cbk-racing-standings-".concat(N,".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"bg-racing-red hover:bg-racing-red/90 text-white",disabled:!(null==b||null==(e=b.standings)?void 0:e.length),children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]})})}),b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",id:"statistics",children:[(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsxs)(d.ZB,{className:"text-sm font-medium text-racing-gray-600 flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"w-4 h-4"}),"Championship Leader"]})}),(0,a.jsxs)(d.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-racing-gray-900",children:b.statistics.most_wins_driver}),(0,a.jsxs)("p",{className:"text-sm text-racing-gray-600",children:[(null==(s=b.standings[0])?void 0:s.total_points)||0," points"]})]})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsxs)(d.ZB,{className:"text-sm font-medium text-racing-gray-600 flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Different Winners"]})}),(0,a.jsxs)(d.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-racing-gray-900",children:b.statistics.different_winners}),(0,a.jsxs)("p",{className:"text-sm text-racing-gray-600",children:["Out of ",b.season.completed_rounds," races"]})]})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsxs)(d.ZB,{className:"text-sm font-medium text-racing-gray-600 flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"Fastest Lap"]})}),(0,a.jsxs)(d.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-racing-gray-900",children:[b.statistics.fastest_lap_record.time,"s"]}),(0,a.jsx)("p",{className:"text-sm text-racing-gray-600",children:b.statistics.fastest_lap_record.driver})]})]})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"border-b border-racing-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(d.ZB,{className:"text-xl font-semibold text-racing-gray-900",children:"Championship Standings"}),(0,a.jsxs)(l.E,{variant:"outline",className:"text-racing-gray-600",children:[b.standings.length," drivers"]})]})}),(0,a.jsx)(d.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-racing-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-4 cursor-pointer hover:bg-racing-gray-100 transition-colors",onClick:()=>E("position"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["Position",Z("position")]})}),(0,a.jsx)("th",{className:"text-left p-4",children:"Driver"}),(0,a.jsx)("th",{className:"text-center p-4",children:"#"}),(0,a.jsx)("th",{className:"text-center p-4",children:"Nationality"}),(0,a.jsx)("th",{className:"text-center p-4 cursor-pointer hover:bg-racing-gray-100 transition-colors",onClick:()=>E("total_points"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Points",Z("total_points")]})}),(0,a.jsx)("th",{className:"text-center p-4 cursor-pointer hover:bg-racing-gray-100 transition-colors",onClick:()=>E("wins"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Wins",Z("wins")]})}),(0,a.jsx)("th",{className:"text-center p-4 cursor-pointer hover:bg-racing-gray-100 transition-colors",onClick:()=>E("podiums"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Podiums",Z("podiums")]})}),(0,a.jsx)("th",{className:"text-center p-4 cursor-pointer hover:bg-racing-gray-100 transition-colors",onClick:()=>E("best_finish"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Best Finish",Z("best_finish")]})})]})}),(0,a.jsx)("tbody",{children:(0,a.jsx)(r.N,{children:S.map((e,s)=>(0,a.jsxs)(n.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:.02*s},className:"border-b border-racing-gray-100 hover:bg-racing-gray-50/50 transition-colors",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(l.E,{className:A(e.position),children:e.position})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("div",{className:"font-medium text-racing-gray-900",children:e.driver.full_name})}),(0,a.jsx)("td",{className:"p-4 text-center",children:(0,a.jsx)("span",{className:"font-mono text-sm bg-racing-gray-100 px-2 py-1 rounded",children:e.driver.racing_number})}),(0,a.jsx)("td",{className:"p-4 text-center text-sm text-racing-gray-600",children:e.driver.nationality}),(0,a.jsx)("td",{className:"p-4 text-center",children:(0,a.jsx)("span",{className:"font-semibold text-lg text-racing-gray-900",children:e.total_points})}),(0,a.jsx)("td",{className:"p-4 text-center",children:(0,a.jsx)("span",{className:"font-semibold text-racing-red",children:e.wins})}),(0,a.jsx)("td",{className:"p-4 text-center",children:(0,a.jsx)("span",{className:"font-semibold text-racing-gray-700",children:e.podiums})}),(0,a.jsx)("td",{className:"p-4 text-center",children:(0,a.jsx)(l.E,{className:A(e.best_finish),children:e.best_finish})})]},e.id))})})]})})})]}),b.recent_races.length>0&&(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"border-b border-racing-gray-200",children:(0,a.jsxs)(d.ZB,{className:"text-xl font-semibold text-racing-gray-900 flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"w-5 h-5"}),"Recent Race Results"]})}),(0,a.jsx)(d.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:b.recent_races.slice(0,5).map((e,s)=>(0,a.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*s},className:"flex items-center justify-between p-4 bg-racing-gray-50 rounded-lg hover:bg-racing-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(l.E,{className:A(e.position),children:["P",e.position]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-racing-gray-900",children:e.driver.full_name}),(0,a.jsxs)("div",{className:"text-sm text-racing-gray-600",children:[e.event_name," • ",new Date(e.event_date).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-semibold text-racing-gray-900",children:[e.points_earned," pts"]}),(0,a.jsxs)("div",{className:"text-sm text-racing-gray-600",children:[e.fastest_lap&&"\uD83C\uDFC1 Fastest Lap",e.pole_position&&"\uD83E\uDD47 Pole Position"]})]})]},e.id))})})]})]})]})}},6425:(e,s,t)=>{Promise.resolve().then(t.bind(t,1812)),Promise.resolve().then(t.bind(t,2035))},6948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>r,aR:()=>n});var a=t(5155);t(2115);var i=t(4269);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",s),...t})}}},e=>{e.O(0,[275,272,242,796,441,255,358],()=>e(e.s=6425)),_N_E=e.O()}]);